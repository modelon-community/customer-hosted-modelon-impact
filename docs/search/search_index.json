{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Introduction","text":"<p>This manual will guide you through the installation of Modelon Impact on your own Linux server from start to finish.</p> <p>You will get information about what is needed to run Modelon Impact, how to plan for the necessary server resources, as well as installation, upgrading, and common system administration tasks such as backup and migration.</p>"},{"location":"index.html#what-is-customer-hosted-modelon-impact","title":"What Is Customer Hosted Modelon Impact?","text":"<p>Customer Hosted Modelon Impact is for organizations that have opted to install Modelon Impact on their own server, physical or virtual, as an alternative to the software-as-a-service solution managed by Modelon at impact.modelon.cloud.</p> <p>Customer Hosted Modelon Impact runs on a stand-alone server.</p>"},{"location":"index.html#document-conventions","title":"Document conventions","text":"<p>Throughout this document we refer to the installation of Modelon Impact using the following URLs. Your installation will use other URLs and you should substitute your own address whenever you see one of these addresses:</p> <ul> <li>Host: modelon-impact.mycompany.com</li> <li>Domain: mycompany.com, *.mycompany.com</li> </ul>"},{"location":"capacityplanning.html","title":"Capacity Planning","text":"<p>To get you started with the capacity planning, run <code>modelonimpact.sh stats</code> to get necessary information about your Ubuntu server.</p> <pre><code>$ /var/impact/modelonimpact.sh stats\n</code></pre> <p>This will provide the following information:</p> <ul> <li>Remote login (SSHD)</li> <li>Fully qualified domain name (FQDN)</li> <li>Domain name</li> <li>Configuration file (without usernames and passwords)</li> <li>Whether the FQDN is registered in DNS</li> <li>OS Release</li> <li>CPUs, cores, and sockets</li> <li>Available space on all disk partitions</li> <li>Validation of TLS certificate and key</li> <li>Checking the validity period of your TLS certificate</li> <li>Disk write speed and latency for the /var partition</li> <li>Network interfaces</li> <li>Default gateway</li> <li>SELinux status</li> <li>Firewall rules</li> </ul>"},{"location":"capacityplanning.html#disk-capacity-and-performance","title":"Disk Capacity and Performance","text":"<p>We recommend using local storage using SSD drives, for performance reasons. Model compilation times will be noticeably longer with slower storage, and handling large result sets will also be impacted. Saving backups to network storage could be beneficial.</p> <p>Modelon Impact and all data is placed in the <code>/var</code> folder.</p> <p>Independent of the number of users, the <code>/var</code> partition should be at least 50 GB to accommodate the Modelon Impact installation. Additional disk space is needed for user data and the size of this depends entirely on the number of users and their usage of Modelon Impact. In our experience most users will need at least 20 GB of disk space each, advanced users will require (sometimes substantially) more.</p> <p>For this reason, you may want to configure LVM (Logical Volume Management) when installing the server, as it gives you the flexibility to add more disk if needed.</p> <p>Note that backups taken via the <code>modelonimpact.sh</code> script are stored locally, in the <code>/var/impactbackups</code> folder by default, and space for this needs to be accounted for.</p> <p>The backup directory can be configured during the installation, and anytime a change is required. However, if you change backup location, the restore feature will not find the older backups, unless you also move them manually to the new location.</p>"},{"location":"capacityplanning.html#cpu-and-memory","title":"CPU and Memory","text":"<p>There is no maximum size for the server. The absolute minimum size of a server for Modelon Impact is:</p> <ul> <li>CPU: 4 cores</li> <li>Memory: 8 GB</li> </ul> <p>This size would allow a single user to start Modelon Impact and do light-weight tasks. To find out the desired size for your server, use the following method.</p> <p>The base requirements for a server running a Modelon Impact installation with no active users are:</p> <ul> <li>CPU: 2 cores</li> <li>Memory: 3 GB</li> </ul> <p>This includes the resources required by the Linux operating system. Every logged-on user will require additional memory and CPU. Use the following table to estimate the additional CPU and memory requirement, based on:</p> <ul> <li>The number of simultaneously logged on users.</li> <li>How often a user runs compilations and simulations in Modelon Impact.</li> <li>Your purchased productivity level.</li> </ul> <p>This table tells you how much additional resources are needed per user.</p> <ul> <li>The lower CPU and memory values are for a logged in user doing light tasks such as editing a model.</li> <li>The higher values in the table below are the estimated maximum resource consumption per user when doing heavy compilation and simulation operations. Especially memory consumption depends heavily on the size and complexity of your models.</li> </ul> Modelon Impact 1 Modelon Impact 4 Modelon Impact 16 CPU per user 1 1-5 1-16 Memory per user 3-8 GB 4-10 GB 10-24 GB <p>Add the sum of all resources required by logged on users and add these numbers to the base requirements.</p> <p>Choosing the correct server depends on your organization\u2019s usage. Plan for an overhead (server resources, minus minimum requirements) that is sufficient for the number of users doing simulations at the same time.</p> <p>Note</p> <p>The productivity level (Modelon Impact 1/4/16) will be equal for all users on a server, it is not possible to specify the productivity level for an individual user.</p>"},{"location":"capacityplanning.html#network-speed","title":"Network Speed","text":"<p>Being a self-contained application, Modelon Impact has low requirements on network speed. </p>"},{"location":"faq.html","title":"Frequently Asked Questions","text":""},{"location":"faq.html#question-can-i-install-modelon-impact-somewhere-else-than-in-varimpact","title":"Question: Can I install Modelon Impact somewhere else than in /var/impact?","text":"<p>Answer: Yes, you can place this folder anywhere on your server. Just note that the installation uses this path for starting/stopping Modelon Impact, handling backups and restore, and most administration tasks. If you change this path on an already installed server, you will break the installation.</p>"},{"location":"faq.html#question-can-i-select-different-modelon-impact-productivity-profiles-for-my-users","title":"Question: Can I select different Modelon Impact productivity profiles for my users?","text":"<p>Answer: No, there is a single profile that applies to all users.</p>"},{"location":"faq.html#question-how-do-i-configure-single-sign-on-sso-or-multi-factor-authentication-mfa-on-my-instance-of-modelon-impact","title":"Question: How do I configure Single Sign-On (SSO) or Multi-Factor Authentication (MFA) on my instance of Modelon Impact?","text":"<p>Answer: SSO and MFA is not supported in the current version of Modelon Impact. While it is possible to configure these in IAM, this functionality may break in future releases. Modelon has SSO and MFA on the roadmap, the release date is not decided yet.</p>"},{"location":"faq.html#question-can-i-scale-my-instance-of-modelon-impact-over-several-servers","title":"Question: Can I scale my instance of Modelon Impact over several servers?","text":"<p>Answer: No, the Customer Hosted Modelon Impact is designed to run on a single server.</p>"},{"location":"faq.html#question-is-it-possible-to-run-modelon-impact-on-a-different-linux-distribution-than-ubuntu","title":"Question: Is it possible to run Modelon Impact on a different Linux distribution than Ubuntu?","text":"<p>Answer: Customer Hosted Modelon Impact requires Ubuntu. This may change in the future.</p>"},{"location":"faq.html#question-i-already-have-my-own-kubernetes-or-docker-setup-can-i-run-modelon-impact-in-my-existing-infrastructure","title":"Question: I already have my own Kubernetes or Docker setup. Can I run Modelon Impact in my existing infrastructure?","text":"<p>Answer: Customer Hosted Modelon Impact runs as a pre-packaged stand-alone service. While it may technically be possible to run Modelon Impact in other ways, Modelon can\u2019t support these types of environments.</p>"},{"location":"firewall.html","title":"Firewall and SELinux","text":"<p>Modelon Impact will run with SELinux enabled, and it will configure iptables for Docker. We recommended that you further protect your server with an external firewall.</p>"},{"location":"firewall.html#load-balancer-web-application-gateways","title":"Load balancer / Web Application Gateways","text":"<p>If needed, Customer Hosted Modelon Impact can be installed behind an existing external load balancer / web application gateway. If the external device terminates TLS sessions, you will have to install the same TLS certificate both in Modelon Impact and the load balancer. We recommend using a health probe that fetches <code>https://[YOUR_IMPACT_SERVER]/hub/login</code>. You are responsible for configuration of any external load balancer / web application gateway.</p>"},{"location":"hwrequirements.html","title":"Client Hardware Requirements","text":"<p>Modelon Impact requires no software on the client PC. The Modelon Impact user interface is accessed using your web browser. Modelon Impact supports browsers based on Chromium, such as Chrome or (Chromium-based) Edge.</p>"},{"location":"hwrequirements.html#server-hardware-requirements","title":"Server Hardware Requirements","text":""},{"location":"hwrequirements.html#cpu-and-memory","title":"CPU and Memory","text":"<p>Modelon Impact only runs on Intel/AMD 64-bit processors. You will not be able to run the software on ARM processors or Apple Silicon.</p> <p>Our recommendations are based on physical CPU cores, and not multithreaded ones. Modelon Impact will work fine with a multithreaded CPU, but with less performance. When planning for CPU capacity, take the number of users logged in at the same time into consideration.</p> <p>A running Modelon Impact server will require a certain amount of memory. Every logged-on user will consume additional memory. The amount of RAM needed is dependent on how many simultaneous users are expected on your server and the productivity level of your Modelon Impact license.</p>"},{"location":"hwrequirements.html#disks","title":"Disks","text":"<p>Modelon recommends using local storage, using SSD devices set up in a RAID configuration, for redundancy and performance. Model compilation time will suffer on slower disks. Network storage is only recommended for backups of the service.</p>"},{"location":"install.html","title":"Server update","text":"<p>Before you install Modelon Impact, it is highly recommended that you update your server with all the latest patches. The installer will not do this for you in case you might want to be in control of the patch level of your server.</p> <p>If you'd like to update your server, run these commands:</p> <pre><code>$ sudo apt-get update\n$ sudo apt-get upgrade\n</code></pre>"},{"location":"install.html#download-modelon-impact","title":"Download Modelon Impact","text":"<p>You will find all released versions on of Modelon Impact on our Github page. Download the desired version to your home directory on Linux. Then, unpack the archive file (replacing RELEASE with the actual file name) to <code>/var/impact</code>.</p> <pre><code>$ sudo mkdir /var/impact\n$ sudo tar zxfv RELEASE.tar.gz -C /var/impact\n</code></pre>"},{"location":"install.html#install-modelon-impact","title":"Install Modelon Impact","text":""},{"location":"install.html#installing-modelon-impact-as-root-or-a-regular-user","title":"Installing Modelon Impact as 'root' or a Regular User?","text":"<p>These instructions assume that you are installing Modelon Impact as regular user with sudo rights or the root user.</p> <p>We recommend that you run <code>/var/impact/modelonimpact.sh</code> as your regular user and without <code>sudo</code> in front of it. The script will ask for your password for the tasks that require elevated access rights.</p> <p>The script <code>modelonimpact.sh</code> will not let you run certain functions as a regular user without sudo rights.</p>"},{"location":"install.html#operating-system-environment","title":"Operating System Environment","text":"<p>The script <code>modelonimpact.sh</code> will prepare the operating system environment for Modelon Impact.</p> <pre><code>$ /var/impact/modelonimpact.sh\n</code></pre> <p>The admin script will install all the required software and configure your environment so you can run Modelon Impact. If anything is missing, the script will resolve it for you.</p> <p>The first time you run the script, you will be asked to install the required software packages. If you get the following message, write \u201cYES\u201d to have them installed for you.</p> <pre><code>The following software prerequisites are needed to use this script and install Modelon Impact:\n\n * curl\n * net-tools\n * bind9-dnsutils\n * bsdmainutils\n * Docker and Docker Compose\n * jq\n\nWrite YES to install the software now, or press ENTER to exit: YES\n</code></pre> <p>After the required software has been installed, you should logout and login to the shell, as several environment variables will have been changed.</p> <p>Run the script again, to check the remaining prerequisites:</p> <pre><code>$ /var/impact/modelonimpact.sh\n</code></pre> <p>This time,  it will make sure all permissions are correct, then exit to make sure your shell environment is correct:</p> <pre><code>$ /var/impact/modelonimpact.sh\n __  __           _      _               ___                            _   \n|  \\/  | ___   __| | ___| | ___  _ __   |_ _|_ __ ___  _ __   __ _  ___| |_ \n| |\\/| |/ _ \\ / _` |/ _ \\ |/ _ \\| '_ \\   | || '_ ` _ \\| '_ \\ / _` |/ __| __|\n| |  | | (_) | (_| |  __/ | (_) | | | |  | || | | | | | |_) | (_| | (__| |_ \n|_|  |_|\\___/ \\__,_|\\___|_|\\___/|_| |_| |___|_| |_| |_| .__/ \\__,_|\\___|\\__|\n                                                      |_|\n               Accurate Simulations. Better Decisions.\n\nPlease enter the password for \"impactuser\" to run with elevated access rights, if asked for it.\n\nSome required permissions are missing, we will have to correct this first.\n\nAdding user impactuser to group docker\n\nTo pick up this new group membership, you will have to, either\n - if you are on Ubuntu Desktop: reboot the server.\n - if you are on Ubuntu Server: log out and in again\n\nPlease rerun this command when you're back.\n\nAlternatively, you can run the command 'su -l impactuser' to get a shell with the correct environment.\n</code></pre> <p>The script creates the group <code>docker</code> and adds your user to the group. The directories under <code>/etc/impact</code> will be created and made accessible to the <code>docker</code> group.</p>"},{"location":"install.html#license-and-tls-certificate","title":"License and TLS Certificate","text":"<p>Before you start the installation procedure, you will need to copy your license and a TLS certificate to the server.</p> <ul> <li> <p>License:</p> <p>Copy the file <code>license.yaml</code> to the folder <code>/etc/impact/licenses</code>. The license file is provided by Modelon.</p> </li> <li> <p>TLS Certificate:</p> <p>Copy your certificate files to the folder <code>/etc/impact/certs</code>. Name the files <code>tls.crt</code> and <code>tls.key</code>. Both files must be in PEM format, and the key must be an RSA key. The <code>tls.crt</code> file must contain the server certificate and any intermediate certificates, all concatenated together into one file. The certificate is provided by you.</p> </li> </ul>"},{"location":"install.html#install-modelon-impact_1","title":"Install Modelon Impact","text":"<p>To run the installer, add the option <code>install</code> to the admin script:</p> <pre><code>$ /var/impact/modelonimpact.sh install\n</code></pre> <p>The first required information is your login to the Modelon Container Registry, which you receive from Modelon.</p> <pre><code>Modelon Impact is Not Installed.\n\nThe certificate and key in /etc/impact/certs are a valid pair\n\nCertifiate is valid for these domains:\n*.mycompany.com\nmycompany.com\n\nCertificate validity period:\nnotBefore=Mar 15 00:00:00 2023 GMT\nnotAfter=Mar 14 23:59:59 2024 GMT\n\nThe certificate dates are valid.\n\nThe configuration file (/etc/impact/config) does not exist!\nWrite YES to generate the configuration file, or press ENTER to exit: YES\n\nPlease enter the Modelon Container Registry username.\n(Press enter for &lt;please update&gt;): &lt;ACR_username&gt;\n\n * Username set to: &lt;ACR_username&gt;\n\nPlease enter the Modelon Container Registry password.\n(Press enter for &lt;please update&gt;): &lt;ACR_password&gt;\n\n * Password set to: &lt;ACR_password&gt;\n</code></pre> <p>Next, you will be asked to input the fully qualified domain name for your server.</p> <pre><code>Enter the URL (FQDN) for your Modelon Impact installation, without http:// or https://: modelon-impact.mycompany.com\n\n * URL set to: modelon-impact.mycompany.com\n</code></pre> <p>The installer needs to know which network interface you're binding to. The default is 0.0.0.0, which will allow access to Modelon Impact over the network.</p> <p>If you choose 127.0.0.1 (localhost), Modelon Impact will only be running locally on your server and will not be accessible from the rest of your network.</p> <p>If you require Modelon Impact to bind to a specific network interface, you can even write its IP address here.</p> <pre><code>Enter the IP you want Modelon Impact to bind to.\nThese are the configured interfaces on your server:\n\n  0.0.0.0     Service available on the network.\n  127.0.0.1   Service available on local server only.\n\n(Press enter for 0.0.0.0): 0.0.0.0\n\n * IP set to: 0.0.0.0\n</code></pre> <p>The next step is to set the administrative username and password for the authentication service, Keycloak. If no prior password is set in the config file, you will be suggested a random password. </p> <pre><code>Enter the desired username for the IAM admin user.\n(Press enter for admin):\n\n * IAM adminstrator username set to: admin\n\nEnter the desired password for the IAM admin user.\n(Write RANDOM for a generated password, or press enter for MQ0ezoiEauo3Hmum):\n\n * IAM adminstrator password set to: MQ0ezoiEauo3Hmum\n</code></pre> <p>The next configurable option is the backup directory:</p> <pre><code>Please enter the path for backups\n(Press enter for /var/impactbackups):\n\n * Backup path set to: /var/impactbackups\n</code></pre> <p>Finally, you will be asked to enter the Modelon Impact Productivity Level. This decides how much processing power a user can utilize and is decided by the license you have purchased.</p> <p>The accepted values for Productivity Level are 1, 4 and 16, which corresponds to the Modelon Impact Productivity Levels:</p> Productivity Worker count Default compiler memory 1 2 4 GB 4 4 4 GB 16 16 8 GB <pre><code>Enter the Modelon Impact Productivity Level. This cannot exceed your productivity license (1, 4 or 16):\n(Press enter for 1): 4\n\n * Number of Modelon Impact workers set to: 4\n</code></pre> <p>The configuration will now be saved. All your configuration settings can be found in the file <code>/etc/impact/config</code>.</p> <p>After the configuration, you will be asked if you want to install Modelon Impact.</p> <p>If you have made a mistake during the configuration, exit the installation now.</p> <pre><code>Config file written to /etc/impact/config.\n\nThe hostname modelon-impact.mycompany.com was found on the DNS server XX.XX.XX.XX\n\nYou are now ready to install Modelon Impact\n\nIf you want to change any of the configuration options, exit the installer and run 'modelonimpact.sh config'.\nWhen reconfigured, run 'modelonimpact.sh install' to continue the installation.\n\nWrite YES to install Modelon Impact, or press ENTER to exit: NO\n</code></pre> <p>Then run this command to be guided through the configuration settings once more:</p> <pre><code>$ /var/impact/modelonimpact.sh config\n</code></pre> <p>When you are satisfied with the configuration, run the installer again. </p> <pre><code>$ /var/impact/modelonimpact.sh install\n</code></pre> <p>Whether you decided to exit the installer or not, you will now be asked if you want to install Modelon Impact. </p> <pre><code>You are now ready to install Modelon Impact\n\nIf you want to change any of the configuration options, exit the installer and run 'modelonimpact.sh config'.\nWhen reconfigured, run 'modelonimpact.sh install' to continue the installation.\n\nWrite YES to install Modelon Impact, or press ENTER to exit: YES\n</code></pre> <p>The installer will set up your Modelon Impact environment, this can take up to 30 minutes, depending on your Internet bandwidth and server performance. A successful installation ends like this:</p> <pre><code>...\nconf-provisioning-1  | NAME: impact\nconf-provisioning-1  | LAST DEPLOYED: Mon Oct 23 09:16:57 2023\nconf-provisioning-1  | NAMESPACE: impact\nconf-provisioning-1  | STATUS: deployed\nconf-provisioning-1  | REVISION: 1\nconf-provisioning-1  | TEST SUITE: None\nconf-provisioning-1  | NOTES:\nconf-provisioning-1  | =================================\nconf-provisioning-1  |  |_ _|  \\/  | _ \\/_\\ / __|_   _|\nconf-provisioning-1  |   | || |\\/| |  _/ _ \\ (__  | |\nconf-provisioning-1  |  |___|_|  |_|_|/_/ \\_\\___| |_|\nconf-provisioning-1  |\nconf-provisioning-1  | Author: Modelon AB\nconf-provisioning-1  | License: Proprietary\nconf-provisioning-1  | URL: https://modelon-impact.mycompany.com\nconf-provisioning-1  | =================================\nconf-provisioning-1  | Evaluating running pods...\nconf-provisioning-1 exited with code 0\n\nUbuntu Release: 22.04           RAM Tot / Avail: 15.56 GB / 12.26 GB\nDisk size /var: 29G             Load Average: 9.10 5.25 2.31\nAvail. space on /var: 27G\n\nModelon Impact is running on: https://modelon-impact.mycompany.com\nKeycloak IAM is running on:   https://modelon-impact.mycompany.com/iam/auth/admin\n\n\nCongratulations! You have successfully installed Modelon Impact.\n\nThere are just a few steps remaining before you can log on to Modelon Impact\n * Open Keycloak IAM page - https://modelon-impact.mycompany.com/iam/auth/admin\n * Select the \"Modelon\" realm in the upper left corner\n * Add one or more users on the Users page\n * Set a password in the \"Credentials\" tab\n * Users that will use impact-pro must be assigned impact-pro on the \"Role mapping\" tab\n\nThen, open up Modelon Impact and log on.\n * https://modelon-impact.mycompany.com\n</code></pre> <p>When the installation is completed, you will be able to access Modelon Impact on the following URLs:</p> <ul> <li> <p>Keycloak, user administration: <code>https://modelon-impact.mycompany.com/iam/auth/admin</code></p> </li> <li> <p>Modelon Impact: <code>https://modelon-impact.mycompany.com/</code></p> </li> </ul> <p>Before you can log on to Modelon Impact, you will have to create user account(s) using Keycloak IAM</p> step action 1 Open Keycloak IAM page and log on using the username/password you provided earlier https://modelon-impact.mycompany.com/iam/auth/admin  2 Select the \"Modelon\" realm in the upper left corner, and go to the Users page. Add one or more users here.  3 For each user, set a password in the \"Credentials\" tab.  4 If you have purchased Impact Pro features, add the impact-pro role to all your users.  <p>You are now ready to launch Modelon Impact by visiting the Modelon Impact front page and logging on using the account you just created in Keycloak IAM.</p> <p>For further guidance, please refer to our help center.</p>"},{"location":"modelonimpactscript.html","title":"The modelonimpact.sh Script","text":"<p>Throughout this document, you will see a lot of references to the script <code>modelonimpact.sh</code>.</p> <p>This administration script will install Modelon Impact, help you do capacity planning, and it provides several administrative tasks such as starting and stopping the service, handling backup/restore, and collecting logs for troubleshooting.</p> <p>The script can be run as root, or as a regular user with sudo-rights, where we recommend the latter.</p> <p>Whenever you run the script, it will show some essential statistics and it will tell you if the Modelon Impact service is running or not:</p> <pre><code>$ /var/impact/modelonimpact.sh\n __  __           _      _               ___                            _   \n|  \\/  | ___   __| | ___| | ___  _ __   |_ _|_ __ ___  _ __   __ _  ___| |_ \n| |\\/| |/ _ \\ / _` |/ _ \\ |/ _ \\| '_ \\   | || '_ ` _ \\| '_ \\ / _` |/ __| __|\n| |  | | (_) | (_| |  __/ | (_) | | | |  | || | | | | | |_) | (_| | (__| |_ \n|_|  |_|\\___/ \\__,_|\\___|_|\\___/|_| |_| |___|_| |_| |_| .__/ \\__,_|\\___|\\__|\n                                                      |_|\n               Accurate Simulations. Better Decisions.\n\nPlease enter the password for \"user\" to run with elevated access rights, if asked for it.\n\nUbuntu Release: 22.04                   RAM Tot / Avail: 32.43 GB / 28.19 GB\nDisk size /var: 468G                    Load Average: 0.43 0.19 0.17\nAvailable space on /var: 400G           \n\nModelon Impact is running on: https://modelon-impact.mycompany.com\nKeycloak IAM is running on:   https://modelon-impact.mycompany.com/iam/auth/admin\n</code></pre> <p>To see which options are available, run the script with the <code>help</code> option:</p> <pre><code>$ /var/impact/modelonimpact.sh help\n</code></pre> <p>The options will be described in detail in this guide.</p>"},{"location":"productscope.html","title":"Product Scope","text":"<p>Customer Hosted Modelon Impact is for organizations that have opted to install Modelon Impact on their own physical or virtual server. Customer Hosted Modelon Impact runs on a stand-alone server, and is managed by the user.</p>"},{"location":"productscope.html#modelon-impact-scaling","title":"Modelon Impact scaling","text":"<p>Customer Hosted Modelon Impact runs on a single server and will scale with the underlaying hardware it is run on. It cannot scale across multiple servers. Use the Capacity Planning chapter to size your server accordingly.</p>"},{"location":"productscope.html#a-single-profile","title":"A Single Profile","text":"<p>The profile describes the amount of compute resources (cpu/memory) allocated to each user.  Customer Hosted Modelon Impact uses a single profile for all users, this is based on the Productivity level in your license.</p>"},{"location":"productscope.html#ubuntu-linux","title":"Ubuntu Linux","text":"<p>Customer Hosted Modelon Impact runs on top of Ubuntu Linux 22.04 LTS, or later LTS versions. Modelon does not support other operating systems.</p>"},{"location":"systemadministration.html","title":"System Administration","text":"<p>With Modelon Impact installed, it will start automatically on each reboot. The admin script is used to manually stop and start the service.</p>"},{"location":"systemadministration.html#stopping-and-starting-modelon-impact","title":"Stopping and starting Modelon Impact","text":"<p>Run the following command to stop Modelon Impact:</p> <pre><code>$ /var/impact/modelonimpact.sh stop\n</code></pre> <p>Similarily, to start Modelon Impact again:</p> <pre><code>$ /var/impact/modelonimpact.sh start\n</code></pre>"},{"location":"systemadministration.html#update-the-modelon-impact-license","title":"Update the Modelon Impact License","text":"<p>To renew the license, copy the the new <code>license.yaml</code> file into <code>/etc/impact/licenses</code>, then run the following command:</p> <pre><code>$ /var/impact/modelonimpact.sh license\n</code></pre> <p>This will result in a few minutes of service interruption; you may want to plan the operation in advance.</p> <p>If there is a new license in <code>/etc/impact/licenses</code>, you will be asked if you really want to replace the license. Answer \u201cYES\u201d to this question, and the update will be performed:</p> <pre><code>$ /var/impact/modelonimpact.sh license\n __  __           _      _               ___                            _   \n|  \\/  | ___   __| | ___| | ___  _ __   |_ _|_ __ ___  _ __   __ _  ___| |_ \n| |\\/| |/ _ \\ / _` |/ _ \\ |/ _ \\| '_ \\   | || '_ ` _ \\| '_ \\ / _` |/ __| __|\n| |  | | (_) | (_| |  __/ | (_) | | | |  | || | | | | | |_) | (_| | (__| |_ \n|_|  |_|\\___/ \\__,_|\\___|_|\\___/|_| |_| |___|_| |_| |_| .__/ \\__,_|\\___|\\__|\n                                                      |_|\n               Accurate Simulations. Better Decisions.\n\nPlease enter the password for \"user\" to run with elevated access rights, if asked for it.\n[sudo] password for user:\n\nUbuntu Release: 22.04           RAM Tot / Avail: 15.58 GB / 11.93 GB\nDisk size /var: 97G             Load Average: 0.78 0.80 0.82\nAvail. space on /var: 54G\n\nModelon Impact is running on: https://modelon-impact.mycompany.com\nKeycloak IAM is running on:   https://modelon-impact.mycompany.com/iam/auth/admin\n\nUpdate Modelon Impact license:\n\nThe license is ready to be installed.\nNOTE: Modelon Impact will restart and be unavailable for approximately one minute.\n\nWrite YES to update the license, or press ENTER to exit: YES\nsecret \"impact-users-license\" deleted\nsecret/impact-users-license created\nStopping Modelon Impact:\n[+] Running 2/1\n \u2714 Container impact-k3s-1  Removed                                                                                                                                                                                                                                                                                      1.4s\n ! Network impact_default  Removed\n0.0s\nStarting Modelon Impact:\n[+] Running 1/1\n \u2714 Container impact-k3s-1  Started\n</code></pre>"},{"location":"systemadministration.html#renew-the-tls-certificate","title":"Renew the TLS Certificate","text":"<p>To renew the certificate, copy the new certificate files, <code>tls.crt</code> and <code>tls.key</code>, into <code>/etc/impact/certs</code>, then run the following command:</p> <pre><code>$ /var/impact/modelonimpact.sh tls\n</code></pre> <p>This will result in a few minutes of service interruption; you may want to plan the operation in advance.</p> <p>If there is a new valid certificate in <code>/etc/impact/certs</code>, you will be asked if you really want to replace the certificate. Answer \u201cYES\u201d to this question, and the update will be performed:</p> <pre><code>$ /var/impact/modelonimpact.sh tls\n __  __           _      _               ___                            _   \n|  \\/  | ___   __| | ___| | ___  _ __   |_ _|_ __ ___  _ __   __ _  ___| |_ \n| |\\/| |/ _ \\ / _` |/ _ \\ |/ _ \\| '_ \\   | || '_ ` _ \\| '_ \\ / _` |/ __| __|\n| |  | | (_) | (_| |  __/ | (_) | | | |  | || | | | | | |_) | (_| | (__| |_ \n|_|  |_|\\___/ \\__,_|\\___|_|\\___/|_| |_| |___|_| |_| |_| .__/ \\__,_|\\___|\\__|\n                                                      |_|\n               Accurate Simulations. Better Decisions.\n\nUbuntu Release: 22.04           RAM Tot / Avail: 15.58 GB / 13.26 GB\nDisk size /var: 97G             Load Average: 0.47 0.60 0.76\nAvail. space on /var: 56G\n\nModelon Impact is running on: https://modelon-impact.mycompany.com\nKeycloak IAM is running on:   https://modelon-impact.mycompany.com/iam/auth/admin\n\nInstall TLS certificate:\nValidating the certificate and key in /etc/impact/certs: OK!\n\nTLS Certificate validity period:\nnotBefore=Mar 15 00:00:00 2023 GMT\nnotAfter=Mar 14 23:59:59 2024 GMT\n\nCertificate is ready to be installed.\nWrite YES to update the certificate, or press ENTER to exit: YES\nsecret \"impact-ssl-certificate\" deleted\nsecret/impact-ssl-certificate created\n</code></pre>"},{"location":"systemadministration.html#backup-modelon-impact","title":"Backup Modelon Impact","text":"<p>The backup routine creates a snapshot of the entire Modelon Impact service. </p> <p>The backup will temporarily pause the Modelon Impact service until the backup is done. You may want to schedule your backup to a period with less activity. You may want to add the backup as a cron-job on your server.</p> <p>The backup will be written to the folder of your choice, this is configured in <code>/etc/impact/config</code>. The default is <code>/var/impactbackups</code>.</p> <p>To create a backup, run the following command:</p> <pre><code>$ /var/impact/modelonimpact.sh backup\n</code></pre> <p>Note</p> <p>Note that the files in <code>/var/impact</code> and <code>/etc/impact</code> are not backed up by this routine. We recommend that you do a normal backup of the Linux OS in addition to the Modelon Impact service. You should backup <code>/var/impact</code>, <code>/etc/impact</code> and <code>/var/impactbackups</code> as a bare minimum.</p>"},{"location":"systemadministration.html#restore-a-backup","title":"Restore a Backup","text":"<p>When restoring your system, you will be brought back to that particular point in time. This includes the Modelon Impact version, user database, user data, the license, and the TLS certificate.</p> <p>Users that have changed their passwords will have the change reverted, this includes the Keycloak administrator user.</p> <p>To restore a backup, run this command:</p> <pre><code>$ /var/impact/modelonimpact.sh restore\n</code></pre> <p>This will present a list of available backups, sorted by date and time of day. Choose the appropriate backup and follow the instructions to complete the restore. Note that after the restore has completed, your server will need several minutes to restart all components.</p> <p>If you have new license and certificate files in /etc/impact, run the following commands to update them:</p> <pre><code>$ /var/impact/modelonimpact.sh license\n$ /var/impact/modelonimpact.sh tls\n</code></pre>"},{"location":"systemadministration.html#managing-individual-user-disks","title":"Managing Individual User Disks","text":"<p>While users can save their Modelon Impact workspaces on a code version server, taking an OS backup of the entire server is strongly recommended. As this will safeguard your Modelon Impact backups in another location.</p> <p>Note also that running <code>/var/impact/modelonimpact.sh backup</code> will not backup the folders <code>/var/impact/</code> and <code>/etc/impact</code>. An OS backup is required to protect these directories.</p> <p>All user data can be backed up and restored using the previously described features of <code>modelonimpact.sh</code>. However, using <code>modelonimpact.sh</code> works on the entire Modelon Impact installation, backing up and restoring data for all users in one operation. </p> <p>There is an alternative procedure to manipulate data for individual users.</p> <p>To find out the location of your user disk, use the command <code>/var/impact/tools/ls-user-disk.sh &lt;USERNAME&gt;</code>. Inside of the folder output by the command, you will find all your files, including the <code>impact</code> folder that contains all your Modelon Impact related files.</p> <p>As an example, this shows how to find the <code>impact</code> folder for the user <code>example.user</code>. </p> <pre><code>$ /var/impact/tools/ls-user-disk.sh example.user\n/var/lib/docker/volumes/conf_k3s-data/_data/storage/pvc-57fda079-bd17-4e2c-b11c-e4f4986b25d9_impact_claim-example-2euser\n\n$ sudo ls /var/lib/docker/volumes/conf_k3s-data/_data/storage/pvc-57fda079-bd17-4e2c-b11c-e4f4986b25d9_impact_claim-example-2euser/impact\nbinary_blobs    custom_functions     default_customizations  ignore.impact  local_projects  released_projects\ncustomizations  generated_resources  libraries               logs           workspaces\n</code></pre> <p>The backup archive produced by <code>modelonimpact.sh backup</code> contains, among other data, all user disks. It's possible to unpack the backup file in a temporary location, and copy files from there to your user disk.</p>"},{"location":"systemadministration.html#fixing-a-corrupt-installation-of-modelon-impact","title":"Fixing a Corrupt Installation of Modelon Impact","text":"<p>The installation can become corrupt in certain cases. This could happen if the server is not cleanly rebooted, or if there are errors in the configuration file.</p> <p>In most cases, you can repair a corrupt instance by running the installer again.</p> <p>If you\u2019d like to recreate the configuration file, run the config command which will let you change the options that are incorrect:</p> <pre><code>$ /var/impact/modelonimpact.sh config\n</code></pre> <p>For the rebuild of your installation, the existing <code>/etc/impact/config</code> will be used. You will be guided through the setup if the config file is missing.</p> <pre><code>$ /var/impact/modelonimpact.sh install\n</code></pre> <p>The installer will detect that you have a running system and ask you to verify that you want to rebuild your instance of Modelon Impact.</p> <p>Your user data and service configuration will be preserved. You are still advised to have a backup at hand in case you need to do a full disaster recovery. </p> <pre><code>You already have a running instance of Modelon Impact.\nRunning the installer will rebuild your instance of Modelon Impact using the options in /etc/impact/config.\n\nPlease note that the Modelon Impact service will be unavailable for a few minutes while reconfiguring.\nWrite YES to run the installer again, or press ENTER to exit: YES\n</code></pre> <p>Write \u201cYES\u201d to continue.</p> <p>Rebuilding the Modelon Impact server will typically take less than five minutes.</p> <p>The installer ends with this summary:</p> <pre><code>impact-provisioning-1  | NOTES:\nimpact-provisioning-1  | =================================\nimpact-provisioning-1  |  |_ _|  \\/  | _ \\/_\\ / __|_   _|\nimpact-provisioning-1  |   | || |\\/| |  _/ _ \\ (__  | |\nimpact-provisioning-1  |  |___|_|  |_|_|/_/ \\_\\___| |_|\nimpact-provisioning-1  |\nimpact-provisioning-1  | Author: Modelon AB\nimpact-provisioning-1  | License: Proprietary\nimpact-provisioning-1  | URL: https://my.server.com\nimpact-provisioning-1  | =================================\nimpact-provisioning-1  | Evaluating running pods...\nimpact-provisioning-1  | Waiting for 1 pods\nimpact-provisioning-1  | Waiting for 1 pods\nimpact-provisioning-1  | Waiting for 1 pods\nimpact-provisioning-1  | Waiting for 1 pods\nimpact-provisioning-1 exited with code 0\n</code></pre> <p>The rebuild was successful if the last line reads \u201cexited with code 0\u201d</p> <p>It\u2019s possible that a failure is caused by unresponsive docker containers, this is usually solved by running the installer once more.</p> <p>If it keeps failing, please follow the Disaster Recovery instructions using a backup dating from before the problems started.</p>"},{"location":"systemadministration.html#disaster-recovery","title":"Disaster Recovery","text":"<p>If your server is rendered totally unusable, you can use a known good backup for disaster recovery.</p> <p>You can either:</p> <ul> <li> <p>Install Modelon Impact on a different server, or</p> </li> <li> <p>Uninstall Modelon Impact and do a fresh installation on the current server, then</p> </li> <li> <p>Restore a known good backup.</p> </li> </ul> <p>To install Modelon Impact on a different server, just follow the installation instructions in this manual, then restore your system from the backup. </p> <p>In this case, unless you have the original <code>/etc/modelon/config</code> file at hand, it will be recreated during the installation process. </p> <p>To uninstall Modelon Impact, run the following command:</p> <pre><code>$ /var/impact/modelonimpact.sh uninstall\n</code></pre> <p>Warning</p> <p>This will remove your entire Modelon Impact instance. User data and all services. You will need a known good backup in order to get your data back.</p> <p>Uninstalling Modelon Impact will not remove the files in <code>/etc/impact/</code>. Nor will it remove backups which reside in the backup folder set in the config file.</p> <p>You can now install Modelon Impact again and restore your backup to get the service up and running, with all configuration settings and user data intact.</p>"},{"location":"systemadministration.html#upgrade-modelon-impact","title":"Upgrade Modelon Impact","text":"<p>This is the first release of the product, upgrading instructions will come with the next release.</p>"},{"location":"systemadministration.html#log-management-and-troubleshooting","title":"Log Management and Troubleshooting","text":"<p>To collect logs and statistics for troubleshooting, please run the command:</p> <pre><code>$ /var/impact/modelonimpact.sh analyze\n</code></pre> <p>This will collect all necessary information about your Modelon Impact instance, which can be used to assist in solving any issues.</p> <p>The analysis results can be found in a tar archve <code>/tmp/impact-systemdump-NNNNNNNNN.tar.gz</code>.</p>"},{"location":"systemadministration.html#accessing-the-modelon-impact-kubernetes-shell","title":"Accessing the Modelon Impact Kubernetes Shell","text":"<p>You can access the underlying Kubernetes cluster by running this command:</p> <pre><code>$ /var/impact/modelonimpact.sh shell\n</code></pre> <p>Note that this is usually not required unless you are asked to run certain commands by the Modelon support engineers.</p>"},{"location":"systemadministration.html#show-running-docker-pods","title":"Show Running Docker Pods","text":"<p>The <code>status</code> command to <code>modelonimpact.sh</code> outputs information about the running docker container and all the pods inside of that container. This can be useful for troubleshooting purposes. </p> <pre><code>$ /var/impact/modelonimpact.sh status\n __  __           _      _               ___                            _\n|  \\/  | ___   __| | ___| | ___  _ __   |_ _|_ __ ___  _ __   __ _  ___| |_\n| |\\/| |/ _ \\ / _` |/ _ \\ |/ _ \\| '_ \\   | || '_ ` _ \\| '_ \\ / _` |/ __| __|\n| |  | | (_) | (_| |  __/ | (_) | | | |  | || | | | | | |_) | (_| | (__| |_\n|_|  |_|\\___/ \\__,_|\\___|_|\\___/|_| |_| |___|_| |_| |_| .__/ \\__,_|\\___|\\__|\n                                                      |_|\n               Accurate Simulations. Better Decisions.\n\nPlease enter the password for \"impactuser\" to run with elevated access rights, if asked for it.\n\nUbuntu Release: 22.04           RAM Tot / Avail: 15.56 GB / 12.28 GB\nDisk size /var: 29G             Load Average: 0.57 0.48 0.41\nAvail. space on /var: 26G\n\nModelon Impact is running on: https://modelon-impact.mycompany.com\nKeycloak IAM is running on:   https://modelon-impact.mycompany.com/iam/auth/admin\n\nCONTAINER ID   IMAGE                       COMMAND                  CREATED       STATUS       PORTS\n                    NAMES\na9676306cbf5   rancher/k3s:v1.24.10-k3s1   \"sh -c '/bin/k3s ser\u2026\"   2 hours ago   Up 2 hours   0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp, 0.0.0.0:6443-&gt;6443/tcp, :::6443-&gt;6443/tcp   conf-k3s-1\n\nNAMESPACE     NAME                                                   READY   STATUS      RESTARTS   AGE\ndefault       db-postgresql-0                                        1/1     Running     0          5d21h\nimpact        job-controller-b44488c6c-6bjq8                         1/1     Running     0          5d20h\nimpact        proxy-844499b5d8-rl2ww                                 1/1     Running     0          5d20h\nimpact        job-controller-db-migration-p2as4-gnnw6                0/1     Completed   0          5d20h\nimpact        iam-6b47c56c9d-v695b                                   1/1     Running     0          5d20h\nimpact        user-scheduler-5c6666999b-k8x5b                        1/1     Running     0          5d20h\nimpact        impact-iam-provisioning-4f5nc-6bkhr                    0/1     Completed   0          5d20h\nimpact        user-scheduler-5c6666999b-dm7sn                        1/1     Running     0          5d20h\nimpact        user-68d69657fb-8t5gk                                  1/1     Running     0          5d20h\nimpact        continuous-image-puller-8dlmn                          1/1     Running     0          5d20h\nimpact        license-5458f86448-p89hb                               1/1     Running     0          5d20h\nimpact        excel-addin-6b6d777f8f-hllks                           1/1     Running     0          5d20h\nimpact        impact-db-migration-dbgge-kj5lx                        0/1     Completed   0          5d20h\nimpact        impact-ingress-nginx-controller-5466875fc9-csq9t       1/1     Running     0          5d20h\nimpact        hub-bcc55cdc7-gwf5v                                    1/1     Running     0          5d20h\nkube-system   metrics-server-667586758d-9szxr                        1/1     Running     0          5d21h\nkube-system   coredns-7b5bbc6644-2kl7k                               1/1     Running     0          5d21h\nkube-system   svclb-impact-ingress-nginx-controller-5bdbaa71-vzxnq   2/2     Running     0          5d20h\nkube-system   local-path-provisioner-687d6d7765-8k8kd                1/1     Running     0          5d21h\n</code></pre>"},{"location":"systemadministration.html#uninstall-modelon-impact","title":"Uninstall Modelon Impact","text":"<p>Should you need to uninstall Modelon Impact, you can use these commands:</p> <pre><code>$ /var/impact/modelonimpact.sh uninstall\n</code></pre> <p>NOTE: This will also remove all user data stored inside of Modelon Impact. Backup data taken using the modelonimpact.sh script is left untouched. Should you want to remove backups as well, do so using:</p> <pre><code>$ sudo rm -r /var/impactbackups\n</code></pre> <p>This is assuming that you are using the default folder for backups.</p>"},{"location":"whatsneeded.html","title":"What\u2019s Needed to Run Modelon Impact","text":"<p>To run Modelon Impact you will need the following:</p>"},{"location":"whatsneeded.html#a-client-pc","title":"A client PC","text":"<p>Modelon Impact requires no software to be installed on your client PCs. To access Modelon Impact, you need a web browser. Compatible browsers are Chrome or other browsers based on Chromium.</p>"},{"location":"whatsneeded.html#a-linux-server","title":"A Linux Server","text":"<p>An LTS (Long Term Support) version of Ubuntu, version 22.04 or later, is required. The server should be dedicated to running Modelon Impact. Modelon Impact will run on Ubuntu 22.04 minimal server and minimal desktop.</p> <p>You are expected to have a sufficiently deep knowledge of Linux system administration to handle installation of the operating system, troubleshooting, partitioning of disks, performing backups, and general maintenance.</p> <p>The installation procedure will only install OS software packages that are required to run Modelon Impact and will not interfere with choices you may want to make for your own server environment. You should consider installing the Secure Shell Daemon (SSHD) for remote access, Network Time Protocol (NTP) for timekeeping, backup agents and other sysadmin tools needed within your organization. </p> <p>Security hardening of the operating system is left up to you and the requirements of your organization.</p> <p>Specific to Modelon Impact is administration of Docker and Kubernetes. Prior knowledge of Docker and Kubernetes is beneficial, but not required to install or manage Modelon Impact.</p>"},{"location":"whatsneeded.html#an-internet-connection","title":"An Internet Connection","text":"<p>Installing and running Modelon Impact requires a connection to the Internet.</p>"},{"location":"whatsneeded.html#a-valid-modelon-impact-license","title":"A Valid Modelon Impact License","text":"<p>You will receive a license file, <code>license.yaml</code>, when you purchase or evaluate Modelon Impact.</p>"},{"location":"whatsneeded.html#a-tls-transport-layer-security-certificate","title":"A TLS (Transport Layer Security) Certificate","text":"<p>Modelon Impact exposes its services using HTTPS. Unencrypted HTTP is not available. A TLS certificate for your domain, or the servers host name is required to ensure a secure connection to your Modelon Impact instance. It\u2019s your responsibility to acquire a certificate in advance of the installation. Your server\u2019s hostname must match the name (Issuer and/or SAN) of your certificate.</p> <p>Use of private Certificate Authority (CA) or self-signed certificates will give a security warning in your browser if you access the service on the local server.</p>"},{"location":"whatsneeded.html#access-to-the-modelon-container-registry","title":"Access to the Modelon Container Registry","text":"<p>When purchasing Modelon Impact, you will receive a username and password to the container registry where the installer downloads the software. The installer will ask you for these credentials.</p>"},{"location":"whatsneeded.html#a-dns-domain-name-system-service","title":"A DNS (Domain Name System) Service","text":"<p>The only required external dependency for Modelon Impact is a DNS record that matches the name you have configured for your server. DNS configuration is considered a customer responsibility, and Modelon Impact does not provide this service.</p>"},{"location":"whatsneeded.html#code-versioning-system-optional","title":"Code Versioning System (Optional)","text":"<p>Modelon Impact supports saving user data to a Git or Subversion server. This is used for sharing data between users and for more frequent backups than what is offered by the server backup.</p> <p>Modelon Impact does not provide a code versioning system, instead it lets you configure a connection to an existing Git or Subversion server in your organization.</p>"}]}