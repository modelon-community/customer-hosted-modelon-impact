
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Modelon Impact">
      
      
        <meta name="author" content="Modelon">
      
      
      
        <link rel="prev" href="install.html">
      
      
        <link rel="next" href="faq.html">
      
      
      <link rel="icon" href="assets/modelonimpact_icon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.5">
    
    
      
        <title>System Administration - Customer Hosted Modelon Impact - Installation and Administration Guide🔗</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.6a10b989.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="amber">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#system-administration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Customer Hosted Modelon Impact - Installation and Administration Guide🔗" class="md-header__button md-logo" aria-label="Customer Hosted Modelon Impact - Installation and Administration Guide🔗" data-md-component="logo">
      
  <img src="assets/modelonimpact_icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Customer Hosted Modelon Impact - Installation and Administration Guide🔗
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              System Administration
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Customer Hosted Modelon Impact - Installation and Administration Guide🔗" class="md-nav__button md-logo" aria-label="Customer Hosted Modelon Impact - Installation and Administration Guide🔗" data-md-component="logo">
      
  <img src="assets/modelonimpact_icon.png" alt="logo">

    </a>
    Customer Hosted Modelon Impact - Installation and Administration Guide🔗
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="productscope.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Product Scope
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="whatsneeded.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What’s Needed to Run Modelon Impact
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="hwrequirements.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware Requirements
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="capacityplanning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capacity Planning
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="firewall.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Firewall and SELinux
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="modelonimpactscript.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The modelonimpact.sh script
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="install.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Download & Install Modelon Impact
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    System Administration
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="systemadministration.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    System Administration
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stopping-and-starting-modelon-impact" class="md-nav__link">
    Stopping and Starting Modelon Impact
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update-the-modelon-impact-license" class="md-nav__link">
    Update the Modelon Impact License
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#renew-the-tls-certificate" class="md-nav__link">
    Renew the TLS Certificate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#renew-the-k3s-certificate" class="md-nav__link">
    Renew the K3s Certificate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-modelon-impact" class="md-nav__link">
    Backup Modelon Impact
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restore-a-backup" class="md-nav__link">
    Restore a Backup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-individual-user-disks" class="md-nav__link">
    Managing Individual User Disks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixing-a-corrupt-installation-of-modelon-impact" class="md-nav__link">
    Fixing a Corrupt Installation of Modelon Impact
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disaster-recovery" class="md-nav__link">
    Disaster Recovery
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrade-modelon-impact" class="md-nav__link">
    Upgrade Modelon Impact
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-management-and-troubleshooting" class="md-nav__link">
    Log Management and Troubleshooting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-modelon-impact-kubernetes-shell" class="md-nav__link">
    Accessing the Modelon Impact Kubernetes Shell
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-running-docker-pods" class="md-nav__link">
    Show Running Docker Pods
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninstall-modelon-impact" class="md-nav__link">
    Uninstall Modelon Impact
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="faq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frequently Asked Questions
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stopping-and-starting-modelon-impact" class="md-nav__link">
    Stopping and Starting Modelon Impact
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update-the-modelon-impact-license" class="md-nav__link">
    Update the Modelon Impact License
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#renew-the-tls-certificate" class="md-nav__link">
    Renew the TLS Certificate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#renew-the-k3s-certificate" class="md-nav__link">
    Renew the K3s Certificate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-modelon-impact" class="md-nav__link">
    Backup Modelon Impact
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restore-a-backup" class="md-nav__link">
    Restore a Backup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-individual-user-disks" class="md-nav__link">
    Managing Individual User Disks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixing-a-corrupt-installation-of-modelon-impact" class="md-nav__link">
    Fixing a Corrupt Installation of Modelon Impact
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disaster-recovery" class="md-nav__link">
    Disaster Recovery
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrade-modelon-impact" class="md-nav__link">
    Upgrade Modelon Impact
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-management-and-troubleshooting" class="md-nav__link">
    Log Management and Troubleshooting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-modelon-impact-kubernetes-shell" class="md-nav__link">
    Accessing the Modelon Impact Kubernetes Shell
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-running-docker-pods" class="md-nav__link">
    Show Running Docker Pods
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninstall-modelon-impact" class="md-nav__link">
    Uninstall Modelon Impact
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="system-administration">System Administration<a class="headerlink" href="#system-administration" title="Permanent link">&#128279;</a></h1>
<p>With Modelon Impact installed, it will start automatically on each reboot. The admin script is used to manually stop and start the service.</p>
<h2 id="stopping-and-starting-modelon-impact">Stopping and Starting Modelon Impact<a class="headerlink" href="#stopping-and-starting-modelon-impact" title="Permanent link">&#128279;</a></h2>
<p>Run the following command to stop Modelon Impact:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>stop
</code></pre></div>

<p>Similarily, to start Modelon Impact again:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>start
</code></pre></div>

<h2 id="update-the-modelon-impact-license">Update the Modelon Impact License<a class="headerlink" href="#update-the-modelon-impact-license" title="Permanent link">&#128279;</a></h2>
<p>To renew the license, copy the the new <code>license.yaml</code> file into <code>/etc/impact/licenses</code>, then run the following command:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>license
</code></pre></div>

<p>This will result in a few minutes of service interruption; you may want to plan the operation in advance.</p>
<p>If there is a new license in <code>/etc/impact/licenses</code>, you will be asked if you really want to replace the license. Answer <strong>“YES”</strong> to this question, and the update will be performed:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>license
<span class="w"> </span>__<span class="w">  </span>__<span class="w">           </span>_<span class="w">      </span>_<span class="w">               </span>___<span class="w">                            </span>_<span class="w">   </span>
<span class="p">|</span><span class="w">  </span><span class="se">\/</span><span class="w">  </span><span class="p">|</span><span class="w"> </span>___<span class="w">   </span>__<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>___<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>___<span class="w">  </span>_<span class="w"> </span>__<span class="w">   </span><span class="p">|</span>_<span class="w"> </span>_<span class="p">|</span>_<span class="w"> </span>__<span class="w"> </span>___<span class="w">  </span>_<span class="w"> </span>__<span class="w">   </span>__<span class="w"> </span>_<span class="w">  </span>___<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="se">\/</span><span class="p">|</span><span class="w"> </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\ </span>/<span class="w"> </span>_<span class="sb">`</span><span class="w"> </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\ </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\|</span><span class="w"> </span><span class="s1">&#39;_ \   | || &#39;</span>_<span class="w"> </span><span class="sb">`</span><span class="w"> </span>_<span class="w"> </span><span class="se">\|</span><span class="w"> </span><span class="err">&#39;</span>_<span class="w"> </span><span class="se">\ </span>/<span class="w"> </span>_<span class="sb">`</span><span class="w"> </span><span class="p">|</span>/<span class="w"> </span>__<span class="p">|</span><span class="w"> </span>__<span class="p">|</span>
<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w">  </span>__/<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>__<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="w"> </span>
<span class="p">|</span>_<span class="p">|</span><span class="w">  </span><span class="p">|</span>_<span class="p">|</span><span class="se">\_</span>__/<span class="w"> </span><span class="se">\_</span>_,_<span class="p">|</span><span class="se">\_</span>__<span class="p">|</span>_<span class="p">|</span><span class="se">\_</span>__/<span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>___<span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="p">|</span><span class="w"> </span>.__/<span class="w"> </span><span class="se">\_</span>_,_<span class="p">|</span><span class="se">\_</span>__<span class="p">|</span><span class="se">\_</span>_<span class="p">|</span>
<span class="w">                                                      </span><span class="p">|</span>_<span class="p">|</span>
<span class="w">               </span>Accurate<span class="w"> </span>Simulations.<span class="w"> </span>Better<span class="w"> </span>Decisions.

Please<span class="w"> </span>enter<span class="w"> </span>the<span class="w"> </span>password<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span>elevated<span class="w"> </span>access<span class="w"> </span>rights,<span class="w"> </span><span class="k">if</span><span class="w"> </span>asked<span class="w"> </span><span class="k">for</span><span class="w"> </span>it.
<span class="o">[</span>sudo<span class="o">]</span><span class="w"> </span>password<span class="w"> </span><span class="k">for</span><span class="w"> </span>user:

Ubuntu<span class="w"> </span>Release:<span class="w"> </span><span class="m">22</span>.04<span class="w">           </span>RAM<span class="w"> </span>Tot<span class="w"> </span>/<span class="w"> </span>Avail:<span class="w"> </span><span class="m">15</span>.58<span class="w"> </span>GB<span class="w"> </span>/<span class="w"> </span><span class="m">11</span>.93<span class="w"> </span>GB
Disk<span class="w"> </span>size<span class="w"> </span>/var:<span class="w"> </span>97G<span class="w">             </span>Load<span class="w"> </span>Average:<span class="w"> </span><span class="m">0</span>.78<span class="w"> </span><span class="m">0</span>.80<span class="w"> </span><span class="m">0</span>.82
Avail.<span class="w"> </span>space<span class="w"> </span>on<span class="w"> </span>/var:<span class="w"> </span>54G<span class="w">   </span>K3s<span class="w"> </span>cert<span class="w"> </span>expiration:<span class="w"> </span><span class="m">2023</span>-11-29

Modelon<span class="w"> </span>Impact<span class="w"> </span>is<span class="w"> </span>running<span class="w"> </span>on:<span class="w"> </span>https://modelon-impact.mycompany.com
Keycloak<span class="w"> </span>IAM<span class="w"> </span>is<span class="w"> </span>running<span class="w"> </span>on:<span class="w">   </span>https://modelon-impact.mycompany.com/iam/auth/admin

Update<span class="w"> </span>Modelon<span class="w"> </span>Impact<span class="w"> </span>license:

The<span class="w"> </span>license<span class="w"> </span>is<span class="w"> </span>ready<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>installed.
NOTE:<span class="w"> </span>Modelon<span class="w"> </span>Impact<span class="w"> </span>will<span class="w"> </span>restart<span class="w"> </span>and<span class="w"> </span>be<span class="w"> </span>unavailable<span class="w"> </span><span class="k">for</span><span class="w"> </span>approximately<span class="w"> </span>one<span class="w"> </span>minute.

Write<span class="w"> </span>YES<span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>the<span class="w"> </span>license,<span class="w"> </span>or<span class="w"> </span>press<span class="w"> </span>ENTER<span class="w"> </span>to<span class="w"> </span>exit:<span class="w"> </span>YES
secret<span class="w"> </span><span class="s2">&quot;impact-users-license&quot;</span><span class="w"> </span>deleted
secret/impact-users-license<span class="w"> </span>created
Stopping<span class="w"> </span>Modelon<span class="w"> </span>Impact:
<span class="o">[</span>+<span class="o">]</span><span class="w"> </span>Running<span class="w"> </span><span class="m">2</span>/1
<span class="w"> </span>✔<span class="w"> </span>Container<span class="w"> </span>impact-k3s-1<span class="w">  </span>Removed<span class="w">                                                                                                                                                                                                                                                                                      </span><span class="m">1</span>.4s
<span class="w"> </span>!<span class="w"> </span>Network<span class="w"> </span>impact_default<span class="w">  </span>Removed
<span class="m">0</span>.0s
Starting<span class="w"> </span>Modelon<span class="w"> </span>Impact:
<span class="o">[</span>+<span class="o">]</span><span class="w"> </span>Running<span class="w"> </span><span class="m">1</span>/1
<span class="w"> </span>✔<span class="w"> </span>Container<span class="w"> </span>impact-k3s-1<span class="w">  </span>Started
</code></pre></div>

<h2 id="renew-the-tls-certificate">Renew the TLS Certificate<a class="headerlink" href="#renew-the-tls-certificate" title="Permanent link">&#128279;</a></h2>
<p>To renew the certificate, copy the new certificate files, <code>tls.crt</code> and <code>tls.key</code>, into <code>/etc/impact/certs</code>, then run the following command:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>tls
</code></pre></div>

<p>This will result in a few minutes of service interruption; you may want to plan the operation in advance.</p>
<p>If there is a new valid certificate in <code>/etc/impact/certs</code>, you will be asked if you really want to replace the certificate. Answer <strong>“YES”</strong> to this question, and the update will be performed:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>tls
<span class="w"> </span>__<span class="w">  </span>__<span class="w">           </span>_<span class="w">      </span>_<span class="w">               </span>___<span class="w">                            </span>_<span class="w">   </span>
<span class="p">|</span><span class="w">  </span><span class="se">\/</span><span class="w">  </span><span class="p">|</span><span class="w"> </span>___<span class="w">   </span>__<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>___<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>___<span class="w">  </span>_<span class="w"> </span>__<span class="w">   </span><span class="p">|</span>_<span class="w"> </span>_<span class="p">|</span>_<span class="w"> </span>__<span class="w"> </span>___<span class="w">  </span>_<span class="w"> </span>__<span class="w">   </span>__<span class="w"> </span>_<span class="w">  </span>___<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="se">\/</span><span class="p">|</span><span class="w"> </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\ </span>/<span class="w"> </span>_<span class="sb">`</span><span class="w"> </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\ </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\|</span><span class="w"> </span><span class="s1">&#39;_ \   | || &#39;</span>_<span class="w"> </span><span class="sb">`</span><span class="w"> </span>_<span class="w"> </span><span class="se">\|</span><span class="w"> </span><span class="err">&#39;</span>_<span class="w"> </span><span class="se">\ </span>/<span class="w"> </span>_<span class="sb">`</span><span class="w"> </span><span class="p">|</span>/<span class="w"> </span>__<span class="p">|</span><span class="w"> </span>__<span class="p">|</span>
<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w">  </span>__/<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>__<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="w"> </span>
<span class="p">|</span>_<span class="p">|</span><span class="w">  </span><span class="p">|</span>_<span class="p">|</span><span class="se">\_</span>__/<span class="w"> </span><span class="se">\_</span>_,_<span class="p">|</span><span class="se">\_</span>__<span class="p">|</span>_<span class="p">|</span><span class="se">\_</span>__/<span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>___<span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="p">|</span><span class="w"> </span>.__/<span class="w"> </span><span class="se">\_</span>_,_<span class="p">|</span><span class="se">\_</span>__<span class="p">|</span><span class="se">\_</span>_<span class="p">|</span>
<span class="w">                                                      </span><span class="p">|</span>_<span class="p">|</span>
<span class="w">               </span>Accurate<span class="w"> </span>Simulations.<span class="w"> </span>Better<span class="w"> </span>Decisions.

Ubuntu<span class="w"> </span>Release:<span class="w"> </span><span class="m">22</span>.04<span class="w">           </span>RAM<span class="w"> </span>Tot<span class="w"> </span>/<span class="w"> </span>Avail:<span class="w"> </span><span class="m">15</span>.58<span class="w"> </span>GB<span class="w"> </span>/<span class="w"> </span><span class="m">13</span>.26<span class="w"> </span>GB
Disk<span class="w"> </span>size<span class="w"> </span>/var:<span class="w"> </span>97G<span class="w">             </span>Load<span class="w"> </span>Average:<span class="w"> </span><span class="m">0</span>.47<span class="w"> </span><span class="m">0</span>.60<span class="w"> </span><span class="m">0</span>.76
Avail.<span class="w"> </span>space<span class="w"> </span>on<span class="w"> </span>/var:<span class="w"> </span>56G<span class="w">   </span>K3s<span class="w"> </span>cert<span class="w"> </span>expiration:<span class="w"> </span><span class="m">2023</span>-11-29

Modelon<span class="w"> </span>Impact<span class="w"> </span>is<span class="w"> </span>running<span class="w"> </span>on:<span class="w"> </span>https://modelon-impact.mycompany.com
Keycloak<span class="w"> </span>IAM<span class="w"> </span>is<span class="w"> </span>running<span class="w"> </span>on:<span class="w">   </span>https://modelon-impact.mycompany.com/iam/auth/admin

Install<span class="w"> </span>TLS<span class="w"> </span>certificate:
Validating<span class="w"> </span>the<span class="w"> </span>certificate<span class="w"> </span>and<span class="w"> </span>key<span class="w"> </span><span class="k">in</span><span class="w"> </span>/etc/impact/certs:<span class="w"> </span>OK!

TLS<span class="w"> </span>Certificate<span class="w"> </span>validity<span class="w"> </span>period:
<span class="nv">notBefore</span><span class="o">=</span>Mar<span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">00</span>:00:00<span class="w"> </span><span class="m">2023</span><span class="w"> </span>GMT
<span class="nv">notAfter</span><span class="o">=</span>Mar<span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">23</span>:59:59<span class="w"> </span><span class="m">2024</span><span class="w"> </span>GMT

Certificate<span class="w"> </span>is<span class="w"> </span>ready<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>installed.
Write<span class="w"> </span>YES<span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>the<span class="w"> </span>certificate,<span class="w"> </span>or<span class="w"> </span>press<span class="w"> </span>ENTER<span class="w"> </span>to<span class="w"> </span>exit:<span class="w"> </span>YES
secret<span class="w"> </span><span class="s2">&quot;impact-ssl-certificate&quot;</span><span class="w"> </span>deleted
secret/impact-ssl-certificate<span class="w"> </span>created
</code></pre></div>

<h2 id="renew-the-k3s-certificate">Renew the K3s Certificate<a class="headerlink" href="#renew-the-k3s-certificate" title="Permanent link">&#128279;</a></h2>
<p>K3s, that Modelon Impact runs on, creates it own internal certificate which is needed for communicating with the cluster. The certificate is valid for twelve months. If the expiration date is less than ninety days away, a new certificate will be created when you restart Modelon Impact. </p>
<p>The script <code>/var/impact/modelonimpact.sh</code> will show you the expiration date of the certificate, and will give you a reminder to restart Modelon Impact if it expires in less than ninety days.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh
<span class="w"> </span>__<span class="w">  </span>__<span class="w">           </span>_<span class="w">      </span>_<span class="w">               </span>___<span class="w">                            </span>_
<span class="p">|</span><span class="w">  </span><span class="se">\/</span><span class="w">  </span><span class="p">|</span><span class="w"> </span>___<span class="w">   </span>__<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>___<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>___<span class="w">  </span>_<span class="w"> </span>__<span class="w">   </span><span class="p">|</span>_<span class="w"> </span>_<span class="p">|</span>_<span class="w"> </span>__<span class="w"> </span>___<span class="w">  </span>_<span class="w"> </span>__<span class="w">   </span>__<span class="w"> </span>_<span class="w">  </span>___<span class="p">|</span><span class="w"> </span><span class="p">|</span>_
<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="se">\/</span><span class="p">|</span><span class="w"> </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\ </span>/<span class="w"> </span>_<span class="sb">`</span><span class="w"> </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\ </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\|</span><span class="w"> </span><span class="s1">&#39;_ \   | || &#39;</span>_<span class="w"> </span><span class="sb">`</span><span class="w"> </span>_<span class="w"> </span><span class="se">\|</span><span class="w"> </span><span class="err">&#39;</span>_<span class="w"> </span><span class="se">\ </span>/<span class="w"> </span>_<span class="sb">`</span><span class="w"> </span><span class="p">|</span>/<span class="w"> </span>__<span class="p">|</span><span class="w"> </span>__<span class="p">|</span>
<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w">  </span>__/<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span>__<span class="p">|</span><span class="w"> </span><span class="p">|</span>_
<span class="p">|</span>_<span class="p">|</span><span class="w">  </span><span class="p">|</span>_<span class="p">|</span><span class="se">\_</span>__/<span class="w"> </span><span class="se">\_</span>_,_<span class="p">|</span><span class="se">\_</span>__<span class="p">|</span>_<span class="p">|</span><span class="se">\_</span>__/<span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>___<span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="p">|</span><span class="w"> </span>.__/<span class="w"> </span><span class="se">\_</span>_,_<span class="p">|</span><span class="se">\_</span>__<span class="p">|</span><span class="se">\_</span>_<span class="p">|</span>
<span class="w">                                                      </span><span class="p">|</span>_<span class="p">|</span>
<span class="w">               </span>Accurate<span class="w"> </span>Simulations.<span class="w"> </span>Better<span class="w"> </span>Decisions.

The<span class="w"> </span>K3s<span class="w"> </span>certificate<span class="w"> </span>expires<span class="w"> </span><span class="k">in</span><span class="w"> </span>less<span class="w"> </span>than<span class="w"> </span><span class="m">90</span><span class="w"> </span>days.<span class="w"> </span>Please<span class="w"> </span>restart<span class="w"> </span>Modelon<span class="w"> </span>Impact<span class="w"> </span>to<span class="w"> </span>generate<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>certificate.

Ubuntu<span class="w"> </span>Release:<span class="w"> </span><span class="m">22</span>.04<span class="w">           </span>RAM<span class="w"> </span>Tot<span class="w"> </span>/<span class="w"> </span>Avail:<span class="w"> </span><span class="m">15</span>.58<span class="w"> </span>GB<span class="w"> </span>/<span class="w"> </span><span class="m">13</span>.31<span class="w"> </span>GB
Disk<span class="w"> </span>size<span class="w"> </span>/var:<span class="w"> </span>97G<span class="w">             </span>Load<span class="w"> </span>Average:<span class="w"> </span><span class="m">0</span>.08<span class="w"> </span><span class="m">0</span>.14<span class="w"> </span><span class="m">0</span>.11
Avail.<span class="w"> </span>space<span class="w"> </span>on<span class="w"> </span>/var:<span class="w"> </span>62G<span class="w">       </span>K3s<span class="w"> </span>cert<span class="w"> </span>expiration:<span class="w"> </span><span class="m">2023</span>-11-29
</code></pre></div>

<p>To restart Modelon Impact, run the commands <code>/var/impact/modelonimpact.sh stop</code> and <code>/var/impact/modelonimpact.sh start</code>. The certificate will then be automatically regenerated.</p>
<p>Note that Modelon Impact will be unavailable for a few minutes, you may want to plan this operation in advance.</p>
<h2 id="backup-modelon-impact">Backup Modelon Impact<a class="headerlink" href="#backup-modelon-impact" title="Permanent link">&#128279;</a></h2>
<p>The backup routine creates a snapshot of the entire Modelon Impact service. </p>
<p>The backup will temporarily pause the Modelon Impact service until the backup is done. You may want to schedule your backup to a period with less activity. You may want to add the backup as a cron-job on your server.</p>
<p>The backup will be written to the folder of your choice, this is configured in <code>/etc/impact/config</code>. The default is <code>/var/impactbackups</code>.</p>
<p>To create a backup, run the following command:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>backup
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that the files in <code>/var/impact</code> and <code>/etc/impact</code> are not backed up by this routine. We recommend that you do a normal backup of the Linux OS in addition to the Modelon Impact service. You should backup <code>/var/impact</code>, <code>/etc/impact</code> and <code>/var/impactbackups</code> as a bare minimum.</p>
</div>
<h2 id="restore-a-backup">Restore a Backup<a class="headerlink" href="#restore-a-backup" title="Permanent link">&#128279;</a></h2>
<p>When restoring your system, you will be brought back to that particular point in time. This includes the Modelon Impact version, user database, user data, the license, and the TLS certificate.</p>
<p>Users that have changed their passwords will have the change reverted, this includes the Keycloak administrator user.</p>
<p>To restore a backup, run this command:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>restore
</code></pre></div>

<p>This will present a list of available backups, sorted by date and time of day. Choose the appropriate backup and follow the instructions to complete the restore. Note that after the restore has completed, your server will need several minutes to restart all components.</p>
<p>If you have new license and certificate files in /etc/impact, run the following commands to update them:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>license
$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>tls
</code></pre></div>

<h2 id="managing-individual-user-disks">Managing Individual User Disks<a class="headerlink" href="#managing-individual-user-disks" title="Permanent link">&#128279;</a></h2>
<p>While users can save their Modelon Impact workspaces on a code version server, taking an OS backup of the entire server is strongly recommended. As this will safeguard your Modelon Impact backups in another location.</p>
<p>Note also that running <code>/var/impact/modelonimpact.sh backup</code> will not backup the folders <code>/var/impact/</code> and <code>/etc/impact</code>. An OS backup is required to protect these directories.</p>
<p>All user data can be backed up and restored using the previously described features of <code>modelonimpact.sh</code>. However, using <code>modelonimpact.sh</code> works on the entire Modelon Impact installation, backing up and restoring data for all users in one operation. </p>
<p>There is an alternative procedure to manipulate data for individual users.</p>
<p>To find out the location of your user disk, use the command <code>/var/impact/tools/ls-user-disk.sh &lt;USERNAME&gt;</code>. Inside of the folder output by the command, you will find all your files, including the <code>impact</code> folder that contains all your Modelon Impact related files.</p>
<p>As an example, this shows how to find the <code>impact</code> folder for the user <code>example.user</code>. </p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/tools/ls-user-disk.sh<span class="w"> </span>example.user
/var/lib/docker/volumes/conf_k3s-data/_data/storage/pvc-57fda079-bd17-4e2c-b11c-e4f4986b25d9_impact_claim-example-2euser

$<span class="w"> </span>sudo<span class="w"> </span>ls<span class="w"> </span>/var/lib/docker/volumes/conf_k3s-data/_data/storage/pvc-57fda079-bd17-4e2c-b11c-e4f4986b25d9_impact_claim-example-2euser/impact
binary_blobs<span class="w">    </span>custom_functions<span class="w">     </span>default_customizations<span class="w">  </span>ignore.impact<span class="w">  </span>local_projects<span class="w">  </span>released_projects
customizations<span class="w">  </span>generated_resources<span class="w">  </span>libraries<span class="w">               </span>logs<span class="w">           </span>workspaces
</code></pre></div>

<p>The backup archive produced by <code>modelonimpact.sh backup</code> contains, among other data, all user disks. It's possible to unpack the backup file in a temporary location, and copy files from there to your user disk.</p>
<h2 id="fixing-a-corrupt-installation-of-modelon-impact">Fixing a Corrupt Installation of Modelon Impact<a class="headerlink" href="#fixing-a-corrupt-installation-of-modelon-impact" title="Permanent link">&#128279;</a></h2>
<p>The installation can become corrupt in certain cases. This could happen if the server is not cleanly rebooted, or if there are errors in the configuration file.</p>
<p>In most cases, you can repair a corrupt instance by running the installer again.</p>
<p>If you’d like to recreate the configuration file, run the config command which will let you change the options that are incorrect:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>config
</code></pre></div>

<p>For the rebuild of your installation, the existing <code>/etc/impact/config</code> will be used. You will be guided through the setup if the config file is missing.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>install
</code></pre></div>

<p>The installer will detect that you have a running system and ask you to verify that you want to rebuild your instance of Modelon Impact.</p>
<p>Your user data and service configuration will be preserved. You are still advised to have a backup at hand in case you need to do a full disaster recovery. </p>
<div class="codehilite"><pre><span></span><code>You<span class="w"> </span>already<span class="w"> </span>have<span class="w"> </span>a<span class="w"> </span>running<span class="w"> </span>instance<span class="w"> </span>of<span class="w"> </span>Modelon<span class="w"> </span>Impact.
Running<span class="w"> </span>the<span class="w"> </span>installer<span class="w"> </span>will<span class="w"> </span>rebuild<span class="w"> </span>your<span class="w"> </span>instance<span class="w"> </span>of<span class="w"> </span>Modelon<span class="w"> </span>Impact<span class="w"> </span>using<span class="w"> </span>the<span class="w"> </span>options<span class="w"> </span><span class="k">in</span><span class="w"> </span>/etc/impact/config.

Please<span class="w"> </span>note<span class="w"> </span>that<span class="w"> </span>the<span class="w"> </span>Modelon<span class="w"> </span>Impact<span class="w"> </span>service<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>unavailable<span class="w"> </span><span class="k">for</span><span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>minutes<span class="w"> </span><span class="k">while</span><span class="w"> </span>reconfiguring.
Write<span class="w"> </span>YES<span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>the<span class="w"> </span>installer<span class="w"> </span>again,<span class="w"> </span>or<span class="w"> </span>press<span class="w"> </span>ENTER<span class="w"> </span>to<span class="w"> </span>exit:<span class="w"> </span>YES
</code></pre></div>

<p>Write <strong>“YES”</strong> to continue.</p>
<p>Rebuilding the Modelon Impact server will typically take less than five minutes.</p>
<p>The installer ends with this summary:</p>
<div class="codehilite"><pre><span></span><code>impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w"> </span>NOTES:
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">=================================</span>
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span>_<span class="w"> </span>_<span class="p">|</span><span class="w">  </span><span class="se">\/</span><span class="w">  </span><span class="p">|</span><span class="w"> </span>_<span class="w"> </span><span class="se">\/</span>_<span class="se">\ </span>/<span class="w"> </span>__<span class="p">|</span>_<span class="w">   </span>_<span class="p">|</span>
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w">   </span><span class="p">|</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">|</span><span class="se">\/</span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w">  </span>_/<span class="w"> </span>_<span class="w"> </span><span class="se">\ </span><span class="o">(</span>__<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="p">|</span>
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w">  </span><span class="p">|</span>___<span class="p">|</span>_<span class="p">|</span><span class="w">  </span><span class="p">|</span>_<span class="p">|</span>_<span class="p">|</span>/_/<span class="w"> </span><span class="se">\_\_</span>__<span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="p">|</span>
impact-provisioning-1<span class="w">  </span><span class="p">|</span>
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w"> </span>Author:<span class="w"> </span>Modelon<span class="w"> </span>AB
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w"> </span>License:<span class="w"> </span>Proprietary
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w"> </span>URL:<span class="w"> </span>https://my.server.com
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">=================================</span>
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w"> </span>Evaluating<span class="w"> </span>running<span class="w"> </span>pods...
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w"> </span>Waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>pods
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w"> </span>Waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>pods
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w"> </span>Waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>pods
impact-provisioning-1<span class="w">  </span><span class="p">|</span><span class="w"> </span>Waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>pods
impact-provisioning-1<span class="w"> </span>exited<span class="w"> </span>with<span class="w"> </span>code<span class="w"> </span><span class="m">0</span>
</code></pre></div>

<p>The rebuild was successful if the last line reads “exited with code 0”</p>
<p>It’s possible that a failure is caused by unresponsive docker containers, this is usually solved by running the installer once more.</p>
<p>If it keeps failing, please follow the Disaster Recovery instructions using a backup dating from before the problems started.</p>
<h2 id="disaster-recovery">Disaster Recovery<a class="headerlink" href="#disaster-recovery" title="Permanent link">&#128279;</a></h2>
<p>If your server is rendered totally unusable, you can use a known good backup for disaster recovery.</p>
<p>You can either:</p>
<ul>
<li>
<p>Install Modelon Impact on a different server, or</p>
</li>
<li>
<p>Uninstall Modelon Impact and do a fresh installation on the current server, then</p>
</li>
<li>
<p>Restore a known good backup.</p>
</li>
</ul>
<p>To install Modelon Impact on a different server, just follow the installation instructions in this manual, then restore your system from the backup. </p>
<p>In this case, unless you have the original <code>/etc/modelon/config</code> file at hand, it will be recreated during the installation process. </p>
<p>To uninstall Modelon Impact, run the following command:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>uninstall
</code></pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This will remove your entire Modelon Impact instance. User data and all services. You will need a known good backup in order to get your data back.</p>
</div>
<p>Uninstalling Modelon Impact will not remove the files in <code>/etc/impact/</code>. Nor will it remove backups which reside in the backup folder set in the config file.</p>
<p>You can now install Modelon Impact again and restore your backup to get the service up and running, with all configuration settings and user data intact.</p>
<h2 id="upgrade-modelon-impact">Upgrade Modelon Impact<a class="headerlink" href="#upgrade-modelon-impact" title="Permanent link">&#128279;</a></h2>
<p>This is the first release of the product, upgrading instructions will come with the next release.</p>
<h2 id="log-management-and-troubleshooting">Log Management and Troubleshooting<a class="headerlink" href="#log-management-and-troubleshooting" title="Permanent link">&#128279;</a></h2>
<p>To collect logs and statistics for troubleshooting, please run the command:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>analyze
</code></pre></div>

<p>This will collect all necessary information about your Modelon Impact instance, which can be used to assist in solving any issues.</p>
<p>The analysis results can be found in a tar archve <code>/tmp/impact-systemdump-NNNNNNNNN.tar.gz</code>.</p>
<h2 id="accessing-the-modelon-impact-kubernetes-shell">Accessing the Modelon Impact Kubernetes Shell<a class="headerlink" href="#accessing-the-modelon-impact-kubernetes-shell" title="Permanent link">&#128279;</a></h2>
<p>You can access the underlying Kubernetes cluster by running this command:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>shell
</code></pre></div>

<p>Note that this is usually not required unless you are asked to run certain commands by the Modelon support engineers.</p>
<h2 id="show-running-docker-pods">Show Running Docker Pods<a class="headerlink" href="#show-running-docker-pods" title="Permanent link">&#128279;</a></h2>
<p>The <code>status</code> command to <code>modelonimpact.sh</code> outputs information about the running docker container and all the pods inside of that container. This can be useful for troubleshooting purposes. </p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>status
<span class="w"> </span>__<span class="w">  </span>__<span class="w">           </span>_<span class="w">      </span>_<span class="w">               </span>___<span class="w">                            </span>_
<span class="p">|</span><span class="w">  </span><span class="se">\/</span><span class="w">  </span><span class="p">|</span><span class="w"> </span>___<span class="w">   </span>__<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>___<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>___<span class="w">  </span>_<span class="w"> </span>__<span class="w">   </span><span class="p">|</span>_<span class="w"> </span>_<span class="p">|</span>_<span class="w"> </span>__<span class="w"> </span>___<span class="w">  </span>_<span class="w"> </span>__<span class="w">   </span>__<span class="w"> </span>_<span class="w">  </span>___<span class="p">|</span><span class="w"> </span><span class="p">|</span>_
<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="se">\/</span><span class="p">|</span><span class="w"> </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\ </span>/<span class="w"> </span>_<span class="sb">`</span><span class="w"> </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\ </span><span class="p">|</span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\|</span><span class="w"> </span><span class="s1">&#39;_ \   | || &#39;</span>_<span class="w"> </span><span class="sb">`</span><span class="w"> </span>_<span class="w"> </span><span class="se">\|</span><span class="w"> </span><span class="s1">&#39;_ \ / _` |/ __| __|</span>
<span class="s1">| |  | | (_) | (_| |  __/ | (_) | | | |  | || | | | | | |_) | (_| | (__| |_</span>
<span class="s1">|_|  |_|\___/ \__,_|\___|_|\___/|_| |_| |___|_| |_| |_| .__/ \__,_|\___|\__|</span>
<span class="s1">                                                      |_|</span>
<span class="s1">               Accurate Simulations. Better Decisions.</span>

<span class="s1">Please enter the password for &quot;impactuser&quot; to run with elevated access rights, if asked for it.</span>

<span class="s1">Ubuntu Release: 22.04           RAM Tot / Avail: 15.56 GB / 12.28 GB</span>
<span class="s1">Disk size /var: 29G             Load Average: 0.57 0.48 0.41</span>
<span class="s1">Avail. space on /var: 26G   K3s cert expiration: 2023-11-29</span>

<span class="s1">Modelon Impact is running on: https://modelon-impact.mycompany.com</span>
<span class="s1">Keycloak IAM is running on:   https://modelon-impact.mycompany.com/iam/auth/admin</span>

<span class="s1">CONTAINER ID   IMAGE                       COMMAND                  CREATED       STATUS       PORTS</span>
<span class="s1">                    NAMES</span>
<span class="s1">a9676306cbf5   rancher/k3s:v1.24.10-k3s1   &quot;sh -c &#39;</span>/bin/k3s<span class="w"> </span>ser…<span class="s2">&quot;   2 hours ago   Up 2 hours   0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp, 0.0.0.0:6443-&gt;6443/tcp, :::6443-&gt;6443/tcp   conf-k3s-1</span>

<span class="s2">NAMESPACE     NAME                                                   READY   STATUS      RESTARTS   AGE</span>
<span class="s2">default       db-postgresql-0                                        1/1     Running     0          5d21h</span>
<span class="s2">impact        job-controller-b44488c6c-6bjq8                         1/1     Running     0          5d20h</span>
<span class="s2">impact        proxy-844499b5d8-rl2ww                                 1/1     Running     0          5d20h</span>
<span class="s2">impact        job-controller-db-migration-p2as4-gnnw6                0/1     Completed   0          5d20h</span>
<span class="s2">impact        iam-6b47c56c9d-v695b                                   1/1     Running     0          5d20h</span>
<span class="s2">impact        user-scheduler-5c6666999b-k8x5b                        1/1     Running     0          5d20h</span>
<span class="s2">impact        impact-iam-provisioning-4f5nc-6bkhr                    0/1     Completed   0          5d20h</span>
<span class="s2">impact        user-scheduler-5c6666999b-dm7sn                        1/1     Running     0          5d20h</span>
<span class="s2">impact        user-68d69657fb-8t5gk                                  1/1     Running     0          5d20h</span>
<span class="s2">impact        continuous-image-puller-8dlmn                          1/1     Running     0          5d20h</span>
<span class="s2">impact        license-5458f86448-p89hb                               1/1     Running     0          5d20h</span>
<span class="s2">impact        excel-addin-6b6d777f8f-hllks                           1/1     Running     0          5d20h</span>
<span class="s2">impact        impact-db-migration-dbgge-kj5lx                        0/1     Completed   0          5d20h</span>
<span class="s2">impact        impact-ingress-nginx-controller-5466875fc9-csq9t       1/1     Running     0          5d20h</span>
<span class="s2">impact        hub-bcc55cdc7-gwf5v                                    1/1     Running     0          5d20h</span>
<span class="s2">kube-system   metrics-server-667586758d-9szxr                        1/1     Running     0          5d21h</span>
<span class="s2">kube-system   coredns-7b5bbc6644-2kl7k                               1/1     Running     0          5d21h</span>
<span class="s2">kube-system   svclb-impact-ingress-nginx-controller-5bdbaa71-vzxnq   2/2     Running     0          5d20h</span>
<span class="s2">kube-system   local-path-provisioner-687d6d7765-8k8kd                1/1     Running     0          5d21h</span>
</code></pre></div>

<h2 id="uninstall-modelon-impact">Uninstall Modelon Impact<a class="headerlink" href="#uninstall-modelon-impact" title="Permanent link">&#128279;</a></h2>
<p>Should you need to uninstall Modelon Impact, you can use these commands:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>/var/impact/modelonimpact.sh<span class="w"> </span>uninstall
</code></pre></div>

<p>NOTE: This will also remove all user data stored inside of Modelon Impact. Backup data taken using the modelonimpact.sh script is left untouched. Should you want to remove backups as well, do so using:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>rm<span class="w"> </span>-r<span class="w"> </span>/var/impactbackups
</code></pre></div>

<p>This is assuming that you are using the default folder for backups.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Modelon
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.top", "navigation.instant", "navigation.instant.progress", "navigation.tracking"], "search": "assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>